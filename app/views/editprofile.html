#{extends 'main.html' /}
#{set title:'Profile' /}

#{menu id:"profile"/}


<section class="ui raised segment">
    <div class="ui two column grid">
        <div class="column">
            <div class="ui form">
                <div class="ui message">
            <div class="header">Current Details</div>
            <ul class="list">
                <li>First Name : ${member.firstname}</li>
                <li>Last Name : ${member.lastname}</li>
                <li>Gender : ${member.gender}</li>
                <li>Email : ${member.email} </li>
                <!--<li>Password : ${member.password}</li>-->
                <li>Address : ${member.address}</li>
                <li>Height : ${member.height}cm</li>
                <li>Weight : ${member.currentWeight}kg</li>
            </ul>
        </div>
    </div>
    </div>

    <div class="column">
    <form class="ui stacked segment form" action="/saveProfile" method="POST">
        <h3 class="ui header">Edit Details</h3>
        <div class="two fields">
            <div class="required field">
                <label>First Name</label>
                <input placeholder="${member.firstname}" type="text" maxlength="12" name="firstname" required>
            </div>
            <div class="required field">
                <label>Last Name</label>
                <input placeholder="${member.lastname}" type="text" maxlength="18" name="lastname" required>
            </div>
        </div>

        <div class="ui selection dropdown">
            <input type="hidden" name="gender">
            <i class="dropdown icon"></i>
            <div class="default text">Gender</div>
            <div class="menu">
                <div class="item" data-value="male" data-text="Male">
                    <i class="male icon"></i>
                    Male
                </div>
                <div class="item" data-value="female" data-text="Female">
                    <i class="female icon"></i>
                    Female
                </div>
            </div>
        </div>
        <script>$('.ui.dropdown')
                .dropdown()
        ;</script>

        <div class="required field">
            <label>Email</label>
            <input placeholder="${member.email}" type="email" name="email" required>
        </div>


        <div class="required field">
            <form class="pure-form">
                <fieldset>
            <label>New Password</label>
            <input type="password" id="new_password" required>
            <label>Confirm Password</label>
            <input type="password" id="confirm_password" name="password" required>

                </fieldset>
                <script>
                    var password = document.getElementById("new_password")
                            , confirm_password = document.getElementById("confirm_password");

                    function validatePassword(){
                        if(password.value !== confirm_password.value) {
                            confirm_password.setCustomValidity("Passwords Don't Match");
                        } else {
                            confirm_password.setCustomValidity('');
                        }
                    }

                    new_password.onchange = validatePassword;
                    confirm_password.onkeyup = validatePassword;
                    </script>

                    <!--https:--//codepen.io/diegoleme/pen/surIK?css-preprocessor=sass-->


        </div>

        <div class="required field">
            <label>Address</label>
            <input placeholder="${member.address}" type="text" name="address" required>
        </div>

        <div class="two fields">
            <div class="required field">
                <label>Height</label>
                <div class="ui right labeled input">
                    <input placeholder="${member.height}" type="number" min="100" max="300" name="height" required>
                    <div class="ui basic label">
                        cm
                    </div>
                </div>
            </div>
            <div class="required field">
                <label>Current Weight</label>
                <div class="ui right labeled input">
                    <input placeholder="${member.currentWeight}"
                           type="number" step="0.01" min="35.0" max="250.0" name="currentWeight" required>
                    <div class="ui basic label">
                        kg
                    </div>
                </div>
            </div>
        </div>

        <button class="ui blue submit button">Save Profile</button>
        <i class="red asterisk icon"></i>Denotes required field
    </form>
        </div>
    </div>

</section>